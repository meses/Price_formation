# Проект "Формирование цены"

### Задача
Необходимо реализовать эндпоинт, который будет формировать цену товара с учетом всех 
надбавок. Эндпоинт используется для маркетплейса, поэтому необходимо цену, которая была 
передана в запросе, увеличить на определенную сумму. Маркетплейс должен заплатить налоги 
в размере 6%, также комиссию банку за проведение транзакции покупки в размере 2%, также 
комиссию за проведение транзакцию перевода оплаты автору продукта и оставить себе 
комиссию в размере 20%. При этом пользоваться этим эндпоинтом могут только 
авторизованные пользователи со статусом "продавец".

### Стек 
- Python
- Django
- Postgresql
- Django Rest Framework

### Реализация
Реализованы эндпоинты для работы с пользователями согласно CRUD. 
Реализованы эндпоинты для работы основного алгоритма формирования финальной цены товара
с учётом указанных комиссий.
В проекте настроены различные права доступа на эндпоинты:
- Работа с сущностями пользователей доступна только суперпользователям
- Создание и удаление сущности продукта доступно только пользователям с флагом `is_staff`.
При необходимости, можно достаточно быстро реализовать проверку прав на вхождение пользователя 
в определённую группу.
- Просмотр списка продуктов и каждого конкретного доступна только авторизованным пользователям

Расчёт финальной цены с учётом всех надбавок и комиссий, указанных в техническом задании, 
выполнен отдельной функцией, принимающей на вход исходную цену, введённую пользователем,
и дающую на выходе финальную цену товара.

### Описание API
Использование данной программы возможно с использованием нижепредсталенного описания API:
JWT токен авторизации. 

1. Авторизация \
Method: POST \
url: http://localhost:8000/users/token/ \
Body: {
    "email": "test@test.test",
    "password": "123qwe"
}



#### Спикок методов API для работы с пользователями
1.  Создание пользователя \
Method: POST \
url: http://localhost:8000/users/create/ \
Body: {
    "email": "test@test.test",
    "password": "123qwe",
    "is_staff": "False"
}
2. Получение списка пользователей \
Method: GET \
url: http://localhost:8000/users/ 
3. Получение пользователя \
Method: GET \
url: http://localhost:8000/users/1/
4. Обновление пользователя \
Method: PATCH \
url: http://localhost:8000/users/update/1/ \
Body: {
    "is_staff": False
}
5. Удаление пользователя \
Method: DELETE \
url: http://localhost:8000/users/delete/1/

#### Список API для работы с товарами
1. Создание товара \
Method: POST \
url: http://localhost:8000/item/create/ \
Body: {
    "name": "test item",
    "price": 25
}
2. Получение списка товаров \
Method: GET \
url: http://localhost:8000/item/
3. Получение одного товара \
Method: GET \
url: http://localhost:8000/item/1/
4. Удаление товара \
Method: DELETE \
url: http://localhost:8000/item/delete/1/
